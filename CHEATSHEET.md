# Neovim/Terminal チートシート

Cursorで行っていた操作をnvim/ターミナルで実現するためのリファレンス。

## 検索

### ファイル内検索（Cursor: cmd + F）

| キー | 説明 |
|------|------|
| `/pattern` | 前方検索 |
| `?pattern` | 後方検索 |
| `n` | 次の一致へ |
| `N` | 前の一致へ |
| `*` | カーソル下の単語を前方検索 |
| `#` | カーソル下の単語を後方検索 |
| `<Space>h` | 検索ハイライト消去 |

### プロジェクト全体検索（Cursor: cmd + shift + F）

| キー | 説明 |
|------|------|
| `<Space>fg` | 全文検索（Telescope live_grep） |
| `<Space>ff` | ファイル名検索 |
| `<Space>fw` | カーソル下の単語を全体検索 |

**Telescope内操作**:
- `Ctrl+n` / `Ctrl+p` : 上下移動
- `Enter` : ファイルを開く
- `Esc` : 閉じる

---

## 置換

### ファイル内置換

```vim
:s/old/new/g          " 現在行の全置換
:%s/old/new/g         " ファイル全体置換
:%s/old/new/gc        " 確認しながら置換（y/n/a/q）
:'<,'>s/old/new/g     " 選択範囲の置換（Visual選択後に:）
```

**確認モード（gc）の応答**:
- `y` : 置換する
- `n` : スキップ
- `a` : 全て置換
- `q` : 終了

### プロジェクト全体置換（Spectre）

| キー | 説明 |
|------|------|
| `<Space>rr` | Spectre起動（検索・置換UI） |
| `<Space>rw` | カーソル下の単語を置換 |
| `<Space>rf` | 現在ファイル内のみ置換 |

**Spectre内操作**:
- `dd` : 行を置換対象から除外/復帰
- `Enter` : ファイルを開いてジャンプ
- `<Space>R` : 全て置換実行
- `<Space>rc` : 現在行のみ置換

---

## コメントアウト（Cursor: cmd + /）

Neovim 0.10+ ビルトイン機能。

| キー | 説明 |
|------|------|
| `gcc` | 現在行をコメント切り替え |
| `gc{motion}` | motion範囲をコメント |
| `gc5j` | 現在行から5行下までコメント |
| `gcap` | 現在の段落をコメント |
| `gci{` | `{}`の中身をコメント |
| Visual選択 → `gc` | 選択範囲をコメント |

---

## Git操作

### Neogit（メイン）

```
<Space>gg  → Neogit起動
s          → ファイル/ハンクをステージ
u          → アンステージ
c c        → コミット（メッセージ入力後 Ctrl+c Ctrl+c で確定）
P p        → プッシュ
F p        → プル
```

| キー | 説明 |
|------|------|
| `s` | ステージング |
| `u` | アンステージ |
| `x` | 変更を破棄 |
| `c c` | コミット |
| `c a` | amend（直前のコミットを修正） |
| `P p` | プッシュ |
| `F p` | プル |
| `b b` | ブランチ切り替え |
| `b c` | ブランチ作成 |
| `Tab` | 折りたたみ切り替え |
| `q` | 閉じる |

### Gitsigns（ハンク単位操作）

| キー | 説明 |
|------|------|
| `]c` | 次のGitハンクへ移動 |
| `[c` | 前のGitハンクへ移動 |
| `<Space>hs` | ハンクをステージ |
| `<Space>hr` | ハンクをリセット |
| `<Space>hp` | ハンクをプレビュー |
| `<Space>hb` | 行のblame表示 |

### その他Git

| キー | 説明 |
|------|------|
| `<Space>gd` | 差分表示（Diffview） |
| `<Space>gh` | ファイル履歴 |
| `<Space>glz` | LazyGit起動（TUI） |

---

## Docker操作（lazydocker）

### 起動方法

```bash
# ターミナルから
lazydocker

# nvim内から
<Space>tt  → フローティングターミナル起動
lazydocker → 実行
```

### lazydocker操作

| キー | 説明 |
|------|------|
| `j` / `k` | 上下移動 |
| `[` / `]` | パネル切り替え（Containers/Images/Volumes） |
| `Enter` | 詳細表示 |
| `e` | シェルに入る（exec） |
| `l` | ログ表示 |
| `s` | 停止 |
| `r` | 再起動 |
| `d` | 削除 |
| `q` | 終了 |

---

## AI補完（Codeium）

Insert mode で自動的にゴースト表示される。

| キー | 説明 |
|------|------|
| `Tab` | 補完を確定 |
| `Ctrl+n` | 次の候補 |
| `Ctrl+p` | 前の候補 |
| `Ctrl+]` | クリア |

---

## その他よく使う操作

### ファイル操作

| キー | 説明 |
|------|------|
| `<Space>e` | ファイルツリー切り替え |
| `<Space>w` | 保存 |
| `<Space>q` | 終了 |
| `<Space>x` | 保存して終了 |

### ウィンドウ操作

| キー | 説明 |
|------|------|
| `Ctrl+h/j/k/l` | ウィンドウ間移動 |
| `<Space>sv` | 垂直分割 |
| `<Space>sh` | 水平分割 |

### バッファ操作

| キー | 説明 |
|------|------|
| `<Space>bn` | 次のバッファ |
| `<Space>bp` | 前のバッファ |
| `<Space>bd` | バッファを閉じる |

### ターミナル

| キー | 説明 |
|------|------|
| `<Space>tt` | フローティングターミナル |
| `Ctrl+\` | ターミナル切り替え |
